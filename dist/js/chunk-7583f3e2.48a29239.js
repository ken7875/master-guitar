(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7583f3e2"],{1799:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"d-flex justify-content-center"},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link  {disable: page.current_page === 1}",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item active"},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},i=[],o=e("5530"),c=e("2f62"),n={data:function(){return{}},created:function(){},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])("productsModules",["getProducts"])),{},{updatePage:function(t){this.$emit("update",t)}}),computed:Object(o["a"])({},Object(c["c"])("productsModules",["pagination"]))},r=n,l=e("2877"),u=Object(l["a"])(r,s,i,!1,null,null,null);a["a"]=u.exports},"81b1":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"products"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("ul",{staticClass:"mobile_categoryList row no-gutters list-unstyled d-md-none mb-0"},[e("li",{staticClass:"col-6 bg-wood py-1  border",on:{click:t.getProducts}},[e("router-link",{staticClass:"text-white",attrs:{to:"/products/all-Products"}},[t._v("所有產品")])],1),e("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:t.getProducts}},[e("router-link",{staticClass:"text-white",attrs:{to:"/products/電吉他|貝斯"}},[t._v("電吉他/貝斯")])],1),e("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:t.getProducts}},[e("router-link",{staticClass:"text-white",attrs:{to:"/products/木吉他|烏克麗麗"}},[t._v("木吉他/烏克麗麗")])],1),e("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:t.getProducts}},[e("router-link",{staticClass:"text-white",attrs:{to:"/products/周邊商品"}},[t._v("周邊商品")])],1)]),e("div",{staticClass:"container font-md"},[e("h2",{staticClass:"title mt-12 mb-6 pb-lg-6 pb-md-4"},[t._v("產品列表")]),e("ul",{staticClass:"category list-unstyled d-md-flex d-none justify-content-center"},[e("li",{staticClass:"px-6 font-xl",on:{click:function(a){a.preventDefault(),t.category="所有商品"}}},[e("a",{staticClass:"text-wood"},[t._v(" 所有產品 ")])]),e("li",{staticClass:"px-6 font-xl",on:{click:function(a){a.preventDefault(),t.category="電吉他|貝斯"}}},[e("a",{staticClass:"text-wood"},[t._v(" 電吉他/貝斯 ")])]),e("li",{staticClass:"px-6 font-xl",on:{click:function(a){a.preventDefault(),t.category="木吉他|烏克麗麗"}}},[e("a",{staticClass:"text-wood"},[t._v(" 木吉他/烏克麗麗 ")])]),e("li",{staticClass:"px-6 font-xl",on:{click:function(a){a.preventDefault(),t.category="周邊商品"}}},[e("a",{staticClass:"text-wood"},[t._v(" 周邊商品 ")])])])]),e("div",{staticClass:"products container mt-md-5 mt-3 mb-7"},[e("div",{staticClass:"row"},t._l(t.showCategory,(function(a){return e("div",{key:a.id,staticClass:"col-lg-3 col-md-6"},[e("div",{staticClass:"card border-4 mb-4"},[e("div",{staticClass:"favor position-absolute",on:{click:function(e){return t.addToFavor(a.id)}}},[-1===t.myFavor.indexOf(a.id)?e("i",{staticClass:"fas fa-heart text-light"}):e("i",{staticClass:"fas fa-heart text-danger"})]),e("router-link",{attrs:{to:"/product/"+a.id}},[e("div",{staticClass:"productImg img rounded-0 position-relative",style:"background-image: url("+a.imageUrl[0]+");"},[e("p",{staticClass:"font-xl text-white bg-gray"},[t._v("查看商品")])])]),e("div",{staticClass:"card-body p-0 text-left"},[e("h5",{staticClass:"mb-2 mt-3"},[t._v(" "+t._s(a.title)+" ")]),e("p",[t._v(t._s(a.category))]),e("p",{staticClass:"card-text mb-2"},[t._v(" 特價:"+t._s(t._f("thousands")(a.price))+" "),e("del",{staticClass:"font-sm ml-2"},[t._v("原價:"+t._s(t._f("thousands")(a.origin_price)))])])]),e("div",{staticClass:"card-footer d-flex justify-content-between"},[e("router-link",{staticClass:"btn btn-outline-secondary btn-sm py-2",attrs:{to:"/product/"+a.id}},[t._v(" 詳細資訊 ")]),e("button",{staticClass:"btn btn-outline-primary btn-sm\n            py-2 d-flex align-items-center",on:{click:function(e){return e.preventDefault(),t.addToCart(a.id)}}},[t._v(" 加入購物車 "),t.loadingItem==a.id?e("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block",staticStyle:{width:"12px",height:"12px"}}):t._e()])],1)],1)])})),0)]),e("pagination",{on:{update:t.getProducts}})],1)},i=[],o=(e("99af"),e("4de4"),e("c975"),e("a434"),e("b0c0"),e("5530")),c=e("1799"),n=e("2f62"),r={components:{pagination:c["a"]},data:function(){return{status:status,loadingItem:"",category:"",myFavor:JSON.parse(localStorage.getItem("favorItem"))||[]}},created:function(){this.router=this.$router.history.current.name,this.getProducts(),this.getCart()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["b"])("productsModules",["getProducts"])),Object(n["b"])(["getCart"])),{},{addToCart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.loadingItem=t,this.axios.post(s,{product:t,quantity:e}).then((function(t){a.$bus.$emit("get-cart"),a.$bus.$emit("message:push","商品成功加入購物車!","success"),a.loadingItem="",a.$store.dispatch("getCart")})).catch((function(t){a.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger"),a.loadingItem=""}))},addToFavor:function(t,a){var e=this.myFavor.indexOf(t);-1===e?(this.myFavor.push(t),this.$bus.$emit("message:push","商品成功加入收藏!","success")):(this.myFavor.splice(e,1),this.$bus.$emit("message:push","取消收藏","danger"),this.$bus.$emit("get-cart")),localStorage.setItem("favorItem",JSON.stringify(this.myFavor))}}),computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(n["c"])("productsModules",["getProductsDone"])),Object(n["c"])(["isLoading","getCartsDone"])),{},{showCategory:function(){var t=this,a=[];return this.getProductsDone.filter((function(e){switch(t.category){case"所有商品":a.push(e);break;case"電吉他|貝斯":e.category===t.category&&a.push(e);break;case"木吉他|烏克麗麗":e.category===t.category&&a.push(e);break;case"周邊商品":e.category===t.category&&a.push(e);break;default:a=t.getProductsDone;break}})),a}})},l=r,u=e("2877"),d=Object(u["a"])(l,s,i,!1,null,null,null);a["default"]=d.exports},b0c0:function(t,a,e){var s=e("83ab"),i=e("9bf2").f,o=Function.prototype,c=o.toString,n=/^\s*function ([^ (]*)/,r="name";s&&!(r in o)&&i(o,r,{configurable:!0,get:function(){try{return c.call(this).match(n)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-7583f3e2.48a29239.js.map