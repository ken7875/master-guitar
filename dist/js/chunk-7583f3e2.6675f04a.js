(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7583f3e2"],{1799:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"d-flex justify-content-center"},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link  {disable: page.current_page === 1}",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pagination.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(e){return a("li",{key:e,staticClass:"page-item active"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updatePage(e)}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pagination.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},i=[],o=a("5530"),c=a("2f62"),r={data:function(){return{}},created:function(){},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])("productsModules",["getProducts"])),{},{updatePage:function(t){this.$emit("update",t)}}),computed:Object(o["a"])({},Object(c["c"])("productsModules",["pagination"]))},n=r,l=a("2877"),u=Object(l["a"])(n,s,i,!1,null,null,null);e["a"]=u.exports},"81b1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("ul",{staticClass:"mobile_categoryList row no-gutters list-unstyled d-md-none mb-0"},[a("li",{staticClass:"col-6 bg-wood py-1  border",on:{click:function(e){e.preventDefault(),t.category="所有商品"}}},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("所有產品")])]),a("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:function(e){e.preventDefault(),t.category="電吉他|貝斯"}}},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("電吉他/貝斯")])]),a("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:function(e){e.preventDefault(),t.category="木吉他|烏克麗麗"}}},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("木吉他/烏克麗麗")])]),a("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:function(e){e.preventDefault(),t.category="周邊商品"}}},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[t._v("周邊商品")])])]),a("div",{staticClass:"container font-md mb-8"},[a("h2",{staticClass:"title mt-12 mb-6 pb-lg-6 pb-4 title_border"},[t._v("產品列表")]),a("ul",{staticClass:"category list-unstyled d-md-flex d-none justify-content-center"},[a("li",{staticClass:"px-6 text-lg-xl text-lg border-right border-wood",on:{click:function(e){e.preventDefault(),t.category="所有商品"}}},[a("a",{staticClass:"text-wood"},[t._v(" 所有產品 ")])]),a("li",{staticClass:"px-6 text-lg-xl text-lg border-right border-wood",on:{click:function(e){e.preventDefault(),t.category="電吉他|貝斯"}}},[a("a",{staticClass:"text-wood"},[t._v(" 電吉他/貝斯 ")])]),a("li",{staticClass:"px-6 text-lg-xl text-lg border-right border-wood",on:{click:function(e){e.preventDefault(),t.category="木吉他|烏克麗麗"}}},[a("a",{staticClass:"text-wood"},[t._v(" 木吉他/烏克麗麗 ")])]),a("li",{staticClass:"px-6 text-lg-xl text-lg border-right border-wood",on:{click:function(e){e.preventDefault(),t.category="周邊商品"}}},[a("a",{staticClass:"text-wood"},[t._v(" 周邊商品 ")])])])]),a("div",{staticClass:"products container mt-md-5 mt-3 mb-7"},[a("div",{staticClass:"row"},t._l(t.showCategory,(function(e){return a("div",{key:e.id,staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"card border-4 mb-4"},[a("div",{staticClass:"favor position-absolute",on:{click:function(a){return t.addToFavor(e.id)}}},[-1===t.myFavor.indexOf(e.id)?a("i",{staticClass:"fas fa-heart text-light"}):a("i",{staticClass:"fas fa-heart text-danger"})]),a("router-link",{attrs:{to:"/product/"+e.id}},[a("div",{staticClass:"productImg img rounded-0 position-relative",style:"background-image: url("+e.imageUrl[0]+");"},[a("p",{staticClass:"font-xl text-white bg-gray"},[t._v("查看商品")])])]),a("div",{staticClass:"card-body p-0 text-left"},[a("h5",{staticClass:"mb-2 mt-3"},[t._v(" "+t._s(e.title)+" ")]),a("p",[t._v(t._s(e.category))]),a("p",{staticClass:"card-text mb-2"},[t._v(" 特價:"+t._s(t._f("thousands")(e.price))+" "),a("del",{staticClass:"font-sm ml-2"},[t._v("原價:"+t._s(t._f("thousands")(e.origin_price)))])])]),a("div",{staticClass:"card-footer d-flex justify-content-between"},[a("router-link",{staticClass:"btn btn-outline-secondary btn-sm py-2",attrs:{to:"/product/"+e.id}},[t._v(" 詳細資訊 ")]),a("button",{staticClass:"btn btn-outline-primary btn-sm\n            py-2 d-flex align-items-center",on:{click:function(a){return a.preventDefault(),t.addToCart(e.id)}}},[t._v(" 加入購物車 "),t.loadingItem==e.id?a("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block",staticStyle:{width:"12px",height:"12px"}}):t._e()])],1)],1)])})),0)]),a("pagination",{on:{update:t.getProducts}})],1)},i=[],o=(a("99af"),a("4de4"),a("c975"),a("a434"),a("b0c0"),a("5530")),c=a("1799"),r=a("2f62"),n={components:{pagination:c["a"]},data:function(){return{status:status,loadingItem:"",category:"",myFavor:JSON.parse(localStorage.getItem("favorItem"))||[]}},created:function(){this.router=this.$router.history.current.name,this.getProducts(),this.getCart()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["b"])("productsModules",["getProducts"])),Object(r["b"])(["getCart"])),{},{addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.loadingItem=t,this.axios.post(s,{product:t,quantity:a}).then((function(t){e.$bus.$emit("get-cart"),e.$bus.$emit("message:push","商品成功加入購物車!","success"),e.loadingItem="",e.$store.dispatch("getCart")})).catch((function(t){e.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger"),e.loadingItem=""}))},addToFavor:function(t,e){var a=this.myFavor.indexOf(t);-1===a?(this.myFavor.push(t),this.$bus.$emit("message:push","商品成功加入收藏!","success")):(this.myFavor.splice(a,1),this.$bus.$emit("message:push","取消收藏","danger"),this.$bus.$emit("get-cart")),localStorage.setItem("favorItem",JSON.stringify(this.myFavor))}}),computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["c"])("productsModules",["getProductsDone"])),Object(r["c"])(["isLoading","getCartsDone"])),{},{showCategory:function(){var t=this,e=[];return this.getProductsDone.filter((function(a){switch(t.category){case"所有商品":e.push(a);break;case"電吉他|貝斯":a.category===t.category&&e.push(a);break;case"木吉他|烏克麗麗":a.category===t.category&&e.push(a);break;case"周邊商品":a.category===t.category&&e.push(a);break;default:e=t.getProductsDone;break}})),e}})},l=n,u=a("2877"),d=Object(u["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},b0c0:function(t,e,a){var s=a("83ab"),i=a("9bf2").f,o=Function.prototype,c=o.toString,r=/^\s*function ([^ (]*)/,n="name";s&&!(n in o)&&i(o,n,{configurable:!0,get:function(){try{return c.call(this).match(r)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-7583f3e2.6675f04a.js.map