(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-038dc536"],{"009a":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"wrap"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"container"},[i("div",{staticClass:"mt-3"},[i("h3",{staticClass:"mt-5 mb-5"},[t._v("購物車")]),i("div",{staticClass:"container"},t._l(t.carts,(function(a){return i("div",{key:a.product.id+"carts",staticClass:"col-md-12",staticStyle:{margin:"0 auto"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"content row justify-content-md-start"},[i("div",{staticClass:"img col-md-2 mr-4"},[i("img",{attrs:{src:""+a.product.imageUrl[0]}})]),i("div",{staticClass:"title col-md-2 mr-4 justify-content-md-center"},[i("p",[t._v(t._s(a.product.title))])]),i("div",{staticClass:"input-group col-md-4"},[i("div",{staticClass:"input-group-prepend",staticStyle:{width:"30px"}},[i("button",{staticClass:"minus-btn btn-outline-dark border-5",attrs:{type:"button",id:"button-addon1",disabled:1===a.quantity},on:{click:function(i){a.quantity--,t.updateQty(a.product.id,a.quantity)}}},[t._v("-")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.quantity,expression:"item.quantity"}],staticClass:"productQty border-5 text-center my-auto shadow-none bg-light",attrs:{type:"number","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},domProps:{value:a.quantity},on:{keyup:function(i){return t.updateQty(a.product.id,a.quantity)},input:function(i){i.target.composing||t.$set(a,"quantity",i.target.value)}}}),i("div",{staticClass:"input-group-append",staticStyle:{width:"30px"}},[i("button",{staticClass:"add-btn border-5 btn-outline-dark",attrs:{type:"button",id:"button-addon2"},on:{click:function(i){a.quantity++,t.updateQty(a.product.id,a.quantity)}}},[t._v("+")])])]),i("div",{staticClass:"price col-md-2"},[i("p",[t._v(t._s(a.product.price))])]),i("div",{staticClass:"delPic col-md-1"},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.delData(a.product.id)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])])])])})),0)])]),i("div",{staticClass:"checkOut"},[i("div",{staticClass:"total"},[i("p",[t._v("總計$: "+t._s(t.total))]),i("button",{staticClass:"btn btn-dark",on:{click:t.goPay}},[t._v("前往結帳")])])]),t._m(0)],1)},c=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"footer py-5"},[i("div",{staticClass:"container"},[i("div",{staticClass:"d-flex align-items-center justify-content-between text-white mb-md-7 mb-4"},[i("a",{staticClass:"title",attrs:{href:"./index.html"}},[t._v("Master Gutair")]),i("ul",{staticClass:"d-flex list-unstyled mb-0 h4"},[i("li",[i("a",{staticClass:"text-white mx-3",attrs:{href:"#"}},[i("i",{staticClass:"fab fa-facebook"})])]),i("li",[i("a",{staticClass:"text-white mx-3",attrs:{href:"#"}},[i("i",{staticClass:"fab fa-instagram"})])]),i("li",[i("a",{staticClass:"text-white ml-3",attrs:{href:"#"}},[i("i",{staticClass:"fab fa-line"})])])])]),i("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between align-items-md-end align-items-start text-white"},[i("div",{staticClass:"mb-md-0 mb-1"},[i("p",{staticClass:"mb-0"},[t._v("02-3456-7890")]),i("p",{staticClass:"mb-0"},[t._v("service@mail.com")])]),i("p",{staticClass:"mb-0"},[t._v("© 2020 LOGO All Rights Reserved.")])])])])}],e=(i("99af"),i("4160"),i("159b"),{data:function(){return{product:[],carts:[],total:0,isLoading:!1}},created:function(){this.getCart()},methods:{getProducts:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?paged=99");this.$http.get(a).then((function(a){t.isLoading=!1,t.products=a.data.data}))},getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.$http.get(a).then((function(a){t.isLoading=!1,t.carts=a.data.data,t.getTotalPrice()}))},getTotalPrice:function(){var t=this;this.total=0,this.carts.forEach((function(a){t.total+=a.product.price*a.quantity}))},updateQty:function(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.axios.patch(s,{product:t,quantity:i}).then((function(){a.getCart()}))},delData:function(t){var a=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping/").concat(t);this.axios.delete(i).then((function(){a.isLoading=!1,a.$bus.$emit("get-cart"),a.getCart()}))},goPay:function(){this.$router.push("/pay")}}}),n=e,o=(i("6bb1"),i("2877")),d=Object(o["a"])(n,s,c,!1,null,"a2b3729c",null);a["default"]=d.exports},"5c46":function(t,a,i){},"6bb1":function(t,a,i){"use strict";var s=i("5c46"),c=i.n(s);c.a}}]);
//# sourceMappingURL=chunk-038dc536.8b8f7225.js.map