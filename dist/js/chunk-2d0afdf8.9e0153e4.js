(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afdf8"],{"0fd0":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"wrap"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("div",{staticClass:"container py-3",staticStyle:{backgroundColor:"#FFFDD0"}},[i("div",{staticClass:"productList row align-items-center"},[i("div",{staticClass:"ProductImg col-md-6 mb-6 mb-lg-0"},[i("img",{attrs:{src:t.imageUrl,alt:"product"}})]),i("div",{staticClass:"col-md-6"},[i("h3",{staticClass:"productTitle font-weight-bold mb-lg-10 mb-8"},[t._v(" "+t._s(t.showProduct.title)+" ")]),i("p",{staticClass:"h4 font-weight-bold text-left mt-5 mb-5"},[t._v(" "+t._s(t.showProduct.description)+" ")]),i("p",{staticClass:"h5 mb-2 text-muted text-left"},[i("del",[t._v("原價:$"+t._s(t.showProduct.origin_price))])]),i("p",{staticClass:"h4 font-weight-bold text-left text-primary"},[t._v(" 特價:$"+t._s(t.showProduct.price)+" ")]),i("p",{staticClass:"h6 text-right text-primary mb-lg-10 mb-8"},[t._v("*樂器與音箱有一年售後維修保固")]),i("div",{staticClass:"input-group px-8 mb-lg-5 mb-4"},[i("div",{staticClass:"input-group-prepend"},[i("button",{staticClass:"addBtn btn btn-outline-secondary px-3",attrs:{type:"button",id:"quality",disabled:1===t.quantity},on:{click:function(s){t.quantity=t.quantity-1}}},[i("i",{staticClass:"fas fa-minus"})])]),i("input",{staticClass:"form-control h-100 py-3 quality text-center",attrs:{type:"text","aria-label":"Recipient's username","aria-describedby":"quality"},domProps:{value:t.quantity}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"minusBtn btn bg-wood px-3",attrs:{type:"button",id:"quality"},on:{click:function(s){t.quantity=t.quantity+1}}},[i("i",{staticClass:"fas fa-plus"})])])]),i("div",{staticClass:"cart-btn px-8"},[i("button",{staticClass:"btn btn-wood btn-block",on:{click:function(s){return t.addToCart(t.showProduct.id,t.quantity)}}},[t._v("加入購物車")])])])])]),i("h2",{staticClass:"second_title mt-lg-12 mt-10"},[t._v("相關商品")]),i("Relative",{attrs:{showproduct:t.showProduct},on:{update:t.getSingleProduct}})],1)},e=[],o=(i("99af"),i("5530")),c=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("swiper",{ref:"mySwiper",staticClass:"swiper row mt-lg-8 mt-6",attrs:{options:t.swiperOption}},[t._l(t.identical,(function(s){return i("swiper-slide",{key:s.id,staticClass:"swiper-slide col-lg-3"},[i("div",{staticClass:"card border-0"},[i("div",{staticClass:"product border-0 mb-4",on:{click:function(i){return t.getDetail(s.id)}}},[i("img",{staticClass:"card-img-top",attrs:{src:""+s.imageUrl[0],alt:"top-choice 1"}}),i("div",{staticClass:"card-body py-2 px-0"},[i("p",{staticClass:"font-lg text-left"},[t._v(t._s(s.title))]),i("p",{staticClass:"mb-0 font-md text-left"},[t._v("特價:"+t._s(t._f("thousands")(s.price)))]),i("p",{staticClass:"text-muted mt-1 text-left"},[i("del",[t._v("原價:"+t._s(t._f("thousands")(s.origin_price)))])])])])])])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},n=[],r=(i("4de4"),i("7212")),d=(i("bbe3"),{components:{Swiper:r["Swiper"],SwiperSlide:r["SwiperSlide"]},props:{showproduct:{type:Object}},data:function(){return{products:[],swiperOption:{direction:"horizontal",slidesPerView:1,spaceBetween:0,slidesPerGroup:2,speed:2e3,pagination:{el:".swiper-pagination",clickable:!0},loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1,disableOnInteraction:!1},freeMode:!0,breakpoints:{992:{slidesPerView:4},767:{slidesPerView:3},414:{slidesPerView:2}}}}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.isloading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?paged=99");this.$http.get(s).then((function(s){t.isloading=!1,t.products=s.data.data}))},getDetail:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}},computed:{identical:function(){var t=this;return this.products.filter((function(s){return s.id!==t.showproduct.id&&s.category===t.showproduct.category}))}}}),l=d,u=i("2877"),p=Object(u["a"])(l,c,n,!1,null,null,null),h=p.exports,g=i("2f62"),b={components:{Relative:h},data:function(){return{showProduct:{imageUrl:[],num:1},products:[],imageUrl:"",carts:[],quantity:1,isLoading:!1}},created:function(){this.getProducts(),this.getSingleProduct(),this.getCart()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(g["b"])(["getCart"])),Object(g["b"])("productsModules",["getProducts"])),{},{getSingleProduct:function(){var t=this;this.$store.state.isLoading=!0;var s=this.$route.params.id;this.showProduct={};var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/product/").concat(s);this.$http.get(i).then((function(s){t.$store.state.isLoading=!1,t.showProduct=s.data.data,t.imageUrl=t.showProduct.imageUrl[0]}))},addToCart:function(t){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.$store.state.isLoading=!0,this.axios.post(a,{product:this.showProduct.id,quantity:i}).then((function(t){s.$store.state.isLoading=!1,s.getCart(),s.$bus.$emit("get-cart"),s.$bus.$emit("message-push","商品成功加入購物車!","success"),s.$store.dispatch("getCart")})).catch((function(t){s.$bus.$emit("message-push","加入失敗!".concat(t.response.data.errors),"danger")}))}}),computed:Object(o["a"])(Object(o["a"])({},Object(g["c"])("productsModules",["getProductsDone"])),Object(g["c"])(["getCartsDone"]))},m=b,f=Object(u["a"])(m,a,e,!1,null,null,null);s["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0afdf8.9e0153e4.js.map