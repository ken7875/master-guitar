(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afdf8"],{"0fd0":function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"wrap"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),a("div",{staticClass:"container py-3",staticStyle:{backgroundColor:"#FFFDD0"}},[a("div",{staticClass:"productList row align-items-center"},[a("div",{staticClass:"ProductImg col-md-6 mb-6 mb-lg-0"},[a("img",{attrs:{src:t.imageUrl,alt:"product"}})]),a("div",{staticClass:"col-md-6"},[a("h2",{staticClass:"productTitle font-weight-bold h2 mb-lg-10 mb-8"},[t._v(" "+t._s(t.showProduct.title)+" ")]),a("p",{staticClass:"h4 font-weight-bold text-left mt-5 mb-5"},[t._v(" "+t._s(t.showProduct.description)+" ")]),a("p",{staticClass:"h5 mb-2 text-muted text-left"},[a("del",[t._v("原價:$"+t._s(t.showProduct.origin_price))])]),a("p",{staticClass:"h4 font-weight-bold text-left text-primary"},[t._v(" 特價:$"+t._s(t.showProduct.price)+" ")]),a("p",{staticClass:"h6 text-right text-primary mb-lg-10 mb-8"},[t._v("*樂器與音箱有一年售後維修保固")]),a("div",{staticClass:"input-group px-8 mb-lg-5 mb-4"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"addBtn btn btn-outline-secondary px-3",attrs:{type:"button",id:"quality",disabled:1===t.quantity},on:{click:function(i){t.quantity=t.quantity-1}}},[a("i",{staticClass:"fas fa-minus"})])]),a("input",{staticClass:"form-control h-100 py-3 quality text-center",attrs:{type:"text","aria-label":"Recipient's username","aria-describedby":"quality"},domProps:{value:t.quantity}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"minusBtn btn bg-wood px-3",attrs:{type:"button",id:"quality"},on:{click:function(i){t.quantity=t.quantity+1}}},[a("i",{staticClass:"fas fa-plus"})])])]),a("div",{staticClass:"cart-btn px-8"},[a("button",{staticClass:"btn btn-wood btn-block",on:{click:function(i){return t.addToCart(t.showProduct.id,t.quantity)}}},[t._v("加入購物車")])])])])]),a("h2",{staticClass:"second_title mt-lg-12 mt-10"},[t._v("相關商品")]),a("Relative",{attrs:{showproduct:t.showProduct},on:{update:t.getSingleProduct}})],1)},e=[],o=(a("445a"),function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("swiper",{ref:"mySwiper",staticClass:"swiper row mt-lg-8 mt-6",attrs:{options:t.swiperOption}},[t._l(t.identical,(function(i){return a("swiper-slide",{key:i.id,staticClass:"swiper-slide col-lg-3"},[a("div",{staticClass:"card border-0"},[a("div",{staticClass:"product border-0 mb-4",on:{click:function(a){return t.getDetail(i.id)}}},[a("img",{staticClass:"card-img-top",attrs:{src:""+i.imageUrl[0],alt:"top-choice 1"}}),a("div",{staticClass:"card-body py-2 px-0"},[a("p",{staticClass:"font-lg text-left"},[t._v(t._s(i.title))]),a("p",{staticClass:"mb-0 font-md text-left"},[t._v("特價:"+t._s(t._f("thousands")(i.price)))]),a("p",{staticClass:"text-muted mt-1 text-left"},[a("del",[t._v("原價:"+t._s(t._f("thousands")(i.origin_price)))])])])])])])})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)}),c=[],n=(a("cb3c"),a("d02f")),r=(a("7dea"),{components:{Swiper:n["Swiper"],SwiperSlide:n["SwiperSlide"]},props:{showproduct:{type:Object}},data:function(){return{products:[],swiperOption:{direction:"horizontal",slidesPerView:1,spaceBetween:0,slidesPerGroup:2,speed:2e3,pagination:{el:".swiper-pagination",clickable:!0},loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1,disableOnInteraction:!1},freeMode:!0,breakpoints:{992:{slidesPerView:4},767:{slidesPerView:3},414:{slidesPerView:2}}}}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.isloading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?paged=99");this.$http.get(i).then((function(i){t.isloading=!1,t.products=i.data.data}))},getDetail:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}},computed:{identical:function(){var t=this;return this.products.filter((function(i){return i.id!==t.showproduct.id&&i.category===t.showproduct.category}))}}}),d=r,l=a("5d22"),u=Object(l["a"])(d,o,c,!1,null,null,null),p=u.exports,h={components:{Relative:p},data:function(){return{showProduct:{imageUrl:[],num:1},products:[],imageUrl:"",carts:[],quantity:1,isLoading:!1}},created:function(){this.getProducts(),this.getSingleProduct()},methods:{getProducts:function(){var t=this;this.isloading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?paged=99");this.$http.get(i).then((function(i){t.isloading=!1,t.products=i.data.data}))},getCart:function(){var t=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.$http.get(i).then((function(i){t.cart=i.data.data,t.isLoading=!1}))},getSingleProduct:function(){var t=this;this.isLoading=!0;var i=this.$route.params.id;this.showProduct={};var a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/product/").concat(i);this.$http.get(a).then((function(i){t.isLoading=!1,t.showProduct=i.data.data,t.imageUrl=t.showProduct.imageUrl[0]}))},addToCart:function(t){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.isLoading=!0,this.axios.post(s,{product:this.showProduct.id,quantity:a}).then((function(t){i.isLoading=!1,i.getCart(),i.$bus.$emit("get-cart"),i.$bus.$emit("message-push","商品成功加入購物車!","success")})).catch((function(t){i.$bus.$emit("message-push","加入失敗!".concat(t.response.data.errors),"danger")}))}}},g=h,f=Object(l["a"])(g,s,e,!1,null,null,null);i["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0afdf8.18468920.js.map