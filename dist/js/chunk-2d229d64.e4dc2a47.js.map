{"version":3,"sources":["webpack:///./src/views/frontend/Confirm.vue?a273","webpack:///src/views/frontend/Confirm.vue","webpack:///./src/views/frontend/Confirm.vue?e03b","webpack:///./src/views/frontend/Confirm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","page","_v","_e","class","show1","none","preventDefault","payOrder","_l","order","product","key","id","directives","name","rawName","value","category","expression","imageUrl","_s","title","_f","price","quantity","parseInt","amount","user","email","tel","address","payment","paid","show2","_m","backToProducts","staticRenderFns","components","loadingStyle","data","orderId","created","$route","params","getOrder","methods","$http","get","url","then","console","log","post","res","$router","push","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,OAASP,EAAIQ,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQV,EAAIQ,UAAUE,KAAU,CAACN,EAAG,iBAAiB,GAAiB,IAAbJ,EAAIW,KAAYP,EAAG,KAAK,CAACE,YAAY,qDAAqD,CAACN,EAAIY,GAAG,YAAYZ,EAAIa,KAAKT,EAAG,MAAM,CAACE,YAAY,mDAAmDQ,MAAM,CAAEC,MAAoB,IAAbf,EAAIW,KAAYK,KAAmB,IAAbhB,EAAIW,MAAaF,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOO,iBAAwBjB,EAAIkB,SAASR,MAAW,CAACN,EAAG,MAAM,CAACE,YAAY,gEAAgE,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACE,YAAY,iCAAiC,CAACN,EAAIY,GAAG,UAAUZ,EAAImB,GAAInB,EAAIoB,MAAc,UAAE,SAASC,GAAS,OAAOjB,EAAG,MAAM,CAACkB,IAAID,EAAQE,GAAGjB,YAAY,YAAY,CAACF,EAAG,MAAM,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAoC,OAA7BN,EAAQA,QAAQO,SAAmBC,WAAW,sCAAsCvB,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,IAAO,GAAMc,EAAQA,QAAQS,SAAS,QAAU1B,EAAG,MAAM,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAoC,OAA7BN,EAAQA,QAAQO,SAAmBC,WAAW,sCAAsCvB,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,IAAO,GAAMc,EAAQA,QAAQS,SAAS,QAAU1B,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACN,EAAIY,GAAGZ,EAAI+B,GAAGV,EAAQA,QAAQW,UAAU5B,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIY,GAAGZ,EAAI+B,GAAG/B,EAAIiC,GAAG,YAAPjC,CAAoBqB,EAAQA,QAAQa,aAAa9B,EAAG,IAAI,CAACE,YAAY,yBAAyB,CAACN,EAAIY,GAAG,IAAIZ,EAAI+B,GAAGV,EAAQc,oBAAmB/B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,IAAI,CAACE,YAAY,iCAAiC,CAACN,EAAIY,GAAG,WAAWR,EAAG,IAAI,CAACE,YAAY,iCAAiC,CAACN,EAAIY,GAAG,OAAOZ,EAAI+B,GAAG/B,EAAIiC,GAAG,YAAPjC,CAAoBoC,SAASpC,EAAIoB,MAAMiB,UAAU,UAAU,KAAKjC,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,KAAK,CAACE,YAAY,mDAAmD,CAACN,EAAIY,GAAG,WAAWR,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,SAASR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAGZ,EAAI+B,GAAG/B,EAAIoB,MAAMkB,KAAKb,WAAWrB,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,SAASR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAGZ,EAAI+B,GAAG/B,EAAIoB,MAAMkB,KAAKC,YAAYnC,EAAG,MAAM,CAACE,YAAY,+CAA+C,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,SAASR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAGZ,EAAI+B,GAAG/B,EAAIoB,MAAMkB,KAAKE,UAAUpC,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,SAASR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAGZ,EAAI+B,GAAG/B,EAAIoB,MAAMkB,KAAKG,cAAcrC,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,WAAWR,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAGZ,EAAI+B,GAAG/B,EAAIoB,MAAMsB,iBAAoC,IAAnB1C,EAAIoB,MAAMuB,KAAgBvC,EAAG,SAAS,CAACE,YAAY,iCAAiCG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIW,KAAO,KAAK,CAACX,EAAIY,GAAG,UAAUZ,EAAIa,SAAST,EAAG,MAAM,CAACE,YAAY,UAAUQ,MAAM,CAAE8B,MAAoB,IAAb5C,EAAIW,OAAc,CAACP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAI6C,GAAG,GAAGzC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,SAAS,CAACE,YAAY,uBAAuBG,GAAG,CAAC,MAAQT,EAAI8C,iBAAiB,CAAC9C,EAAIY,GAAG,mBAAmB,IAC7oHmC,EAAkB,CAAC,WAAa,IAAI/C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,4DAA4D,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,uCAAuCF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIY,GAAG,UAAUR,EAAG,IAAI,CAACE,YAAY,sBAAsB,CAACN,EAAIY,GAAG,8B,wBC8FjY,GACEoC,WAAY,CACVC,aAAJ,QAEEC,KAJF,WAKI,MAAO,CACL9B,MAAO,CACLkB,KAAM,IAERa,QAAS,GACTxC,KAAM,EACNH,WAAW,IAGf4C,QAdF,WAeInD,KAAKkD,QAAUlD,KAAKoD,OAAOC,OAAOH,QAClClD,KAAKsD,YAEPC,QAAS,CACPD,SADJ,WACA,WACMtD,KAAKO,WAAY,EACjB,IAAN,yIACMP,KAAKO,WAAY,EACjBP,KAAKwD,MAAMC,IAAIC,GAAKC,MAAK,SAA/B,GACQ,EAAR,kBACQC,QAAQC,IAAI,EAApB,OACQ,EAAR,iBAGI5C,SAXJ,WAWA,WACA,mJACMjB,KAAKO,WAAY,EACjBP,KAAKwD,MAAMM,KAAKJ,GAAKC,MAAK,SAAhC,GACYI,EAAId,KAAKA,KAAKP,OAChB,EAAV,WACU,EAAV,kBAIIG,eArBJ,WAsBM7C,KAAKgE,QAAQC,KAAK,gBCvIwU,I,YCO5VC,EAAY,eACd,EACApE,EACAgD,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E","file":"js/chunk-2d229d64.e4dc2a47.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirm container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('loadingStyle')],1),(_vm.page === 1)?_c('h2',{staticClass:\"title font-weight-bold mt-12 mb-6 pb-lg-6 pb-md-4\"},[_vm._v(\" 確認帳單 \")]):_vm._e(),_c('div',{staticClass:\"row flex-row-reverse justify-content-center pb-5\",class:{ show1: _vm.page === 1, none: _vm.page === 2 },on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[_c('div',{staticClass:\"checklist col-lg-4 offset-lg-1 col-md-5 mb-6 mb-md-0 ml-md-5\"},[_c('div',{staticClass:\"border p-4 mb-4\"},[_c('h3',{staticClass:\"title border-bottom pb-3 mb-5\"},[_vm._v(\"確認明細\")]),_vm._l((_vm.order.products),function(product){return _c('div',{key:product.id,staticClass:\"row mb-4\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.product.category !== '課程'),expression:\"product.product.category !== '課程'\"}],staticClass:\"col-3\"},[_c('img',{staticClass:\"checklistImg\",attrs:{\"src\":(\"\" + (product.product.imageUrl[0]))}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.product.category === '課程'),expression:\"product.product.category === '課程'\"}],staticClass:\"col-3\"},[_c('img',{staticClass:\"checklistImg\",attrs:{\"src\":(\"\" + (product.product.imageUrl[2]))}})]),_c('div',{staticClass:\"col-9\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('p',{staticClass:\"mb-0 font-weight-bold\"},[_vm._v(_vm._s(product.product.title))]),_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm._f(\"thousands\")(product.product.price)))])]),_c('p',{staticClass:\"mb-0 font-weight-bold\"},[_vm._v(\"X\"+_vm._s(product.quantity))])])])}),_c('div',{staticClass:\"d-flex justify-content-between mt-4 border-top\"},[_c('p',{staticClass:\"mb-0 mt-4 h4 font-weight-bold\"},[_vm._v(\"Total\")]),_c('p',{staticClass:\"mb-0 mt-4 h4 font-weight-bold\"},[_vm._v(\" NT$\"+_vm._s(_vm._f(\"thousands\")(parseInt(_vm.order.amount)))+\" \")])])],2)]),_c('div',{staticClass:\"form-group col-md-7 row\"},[_c('h3',{staticClass:\"checkFormTitle mb-lg-6 mb-5 pb-lg-4 pb-3 col-12\"},[_vm._v(\"訂購人資料\")]),_c('div',{staticClass:\"checkForm col-12 mb-5\"},[_c('div',{staticClass:\"name row justify-content-center mb-md-9 mb-6\"},[_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(\"姓名:\")]),_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(_vm._s(_vm.order.user.name))])]),_c('div',{staticClass:\"Email row justify-content-center mb-md-9 mb-6\"},[_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(\"郵件:\")]),_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(_vm._s(_vm.order.user.email))])]),_c('div',{staticClass:\"tel row justify-content-center mb-md-9 mb-6\"},[_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(\"電話:\")]),_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('div',{staticClass:\"address row justify-content-center mb-md-9 mb-6\"},[_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(\"地址:\")]),_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(_vm._s(_vm.order.user.address))])]),_c('div',{staticClass:\"payment row justify-content-center mb-md-9 mb-6\"},[_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(\"付款方式:\")]),_c('div',{staticClass:\"col-6 font-xxl\"},[_vm._v(_vm._s(_vm.order.payment))])])]),(_vm.order.paid === false)?_c('button',{staticClass:\"btn btn-primary col-5 offset-7\",on:{\"click\":function($event){_vm.page = 2}}},[_vm._v(\"確認訂單\")]):_vm._e()])]),_c('div',{staticClass:\"success\",class:{ show2: _vm.page === 2 }},[_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-12 button mb-11\"},[_c('button',{staticClass:\"home btn btn-primary\",on:{\"click\":_vm.backToProducts}},[_vm._v(\" 繼續選購 \")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-7 img d-flex flex-column justify-content-center mb-5\"},[_c('div',{staticClass:\"currect\"},[_c('i',{staticClass:\"fas fa-check-circle text-success\"})]),_c('h2',{staticClass:\"text-light\"},[_vm._v(\"感謝您,\")]),_c('p',{staticClass:\"text-light font-xl\"},[_vm._v(\"付款成功,商品將會在3天後寄到指定地址。\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"confirm container\">\r\n    <loading :active.sync=\"isLoading\">\r\n      <loadingStyle />\r\n    </loading>\r\n    <h2\r\n      class=\"title font-weight-bold mt-12 mb-6 pb-lg-6 pb-md-4\"\r\n      v-if=\"page === 1\"\r\n    >\r\n      確認帳單\r\n    </h2>\r\n    <div\r\n      @submit.prevent=\"payOrder\"\r\n      class=\"row flex-row-reverse justify-content-center pb-5\"\r\n      :class=\"{ show1: page === 1, none: page === 2 }\"\r\n    >\r\n      <div class=\"checklist col-lg-4 offset-lg-1 col-md-5 mb-6 mb-md-0 ml-md-5\">\r\n        <div class=\"border p-4 mb-4\">\r\n          <h3 class=\"title border-bottom pb-3 mb-5\">確認明細</h3>\r\n          <div\r\n            class=\"row mb-4\"\r\n            v-for=\"product in order.products\"\r\n            :key=\"product.id\"\r\n          >\r\n            <div class=\"col-3\"  v-show=\"product.product.category !== '課程'\">\r\n              <img :src=\"`${product.product.imageUrl[0]}`\" class=\"checklistImg\"/>\r\n            </div>\r\n            <div class=\"col-3\"  v-show=\"product.product.category === '課程'\">\r\n              <img :src=\"`${product.product.imageUrl[2]}`\" class=\"checklistImg\"/>\r\n            </div>\r\n            <div class=\"col-9\">\r\n              <div class=\"d-flex justify-content-between\">\r\n                <p class=\"mb-0 font-weight-bold\">{{ product.product.title }}</p>\r\n                <p class=\"mb-0\">{{ product.product.price | thousands }}</p>\r\n              </div>\r\n              <p class=\"mb-0 font-weight-bold\">X{{ product.quantity }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex justify-content-between mt-4 border-top\">\r\n            <p class=\"mb-0 mt-4 h4 font-weight-bold\">Total</p>\r\n            <p class=\"mb-0 mt-4 h4 font-weight-bold\">\r\n              NT${{ parseInt(order.amount) | thousands }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col-md-7 row\">\r\n        <h3 class=\"checkFormTitle mb-lg-6 mb-5 pb-lg-4 pb-3 col-12\">訂購人資料</h3>\r\n        <div class=\"checkForm col-12 mb-5\">\r\n          <div class=\"name row justify-content-center mb-md-9 mb-6\">\r\n            <div class=\"col-6 font-xxl\">姓名:</div>\r\n            <div class=\"col-6 font-xxl\">{{ order.user.name }}</div>\r\n          </div>\r\n          <div class=\"Email row justify-content-center mb-md-9 mb-6\">\r\n            <div class=\"col-6 font-xxl\">郵件:</div>\r\n            <div class=\"col-6 font-xxl\">{{ order.user.email }}</div>\r\n          </div>\r\n          <div class=\"tel row justify-content-center mb-md-9 mb-6\">\r\n            <div class=\"col-6 font-xxl\">電話:</div>\r\n            <div class=\"col-6 font-xxl\">{{ order.user.tel }}</div>\r\n          </div>\r\n          <div class=\"address row justify-content-center mb-md-9 mb-6\">\r\n            <div class=\"col-6 font-xxl\">地址:</div>\r\n            <div class=\"col-6 font-xxl\">{{ order.user.address }}</div>\r\n          </div>\r\n          <div class=\"payment row justify-content-center mb-md-9 mb-6\">\r\n            <div class=\"col-6 font-xxl\">付款方式:</div>\r\n            <div class=\"col-6 font-xxl\">{{ order.payment }}</div>\r\n          </div>\r\n        </div>\r\n        <button class=\"btn btn-primary col-5 offset-7\" @click=\"page = 2\" v-if=\"order.paid === false\">確認訂單</button>\r\n      </div>\r\n    </div>\r\n    <!-- success page -->\r\n    <div class=\"success\" :class=\"{ show2: page === 2 }\">\r\n        <div class=\"row\">\r\n          <div class=\"col-7 img d-flex flex-column justify-content-center mb-5\">\r\n            <div class=\"currect\">\r\n              <i class=\"fas fa-check-circle text-success\"></i>\r\n            </div>\r\n            <h2 class=\"text-light\">感謝您,</h2>\r\n            <p class=\"text-light font-xl\">付款成功,商品將會在3天後寄到指定地址。</p>\r\n          </div>\r\n          <div class=\"col-12 button mb-11\">\r\n            <button class=\"home btn btn-primary\" @click=\"backToProducts\">\r\n              繼續選購\r\n            </button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport loadingStyle from '@/components/Loading.vue'\r\nexport default {\r\n  components: {\r\n    loadingStyle\r\n  },\r\n  data () {\r\n    return {\r\n      order: {\r\n        user: {}\r\n      },\r\n      orderId: '',\r\n      page: 1,\r\n      isLoading: false\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    this.getOrder()\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${this.orderId}`\r\n      this.isLoading = true\r\n      this.$http.get(url).then((res) => {\r\n        this.order = res.data.data\r\n        console.log(this.order)\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    payOrder () {\r\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${this.orderId}/paying`\r\n      this.isLoading = true\r\n      this.$http.post(url).then((res) => {\r\n        if (res.data.data.paid) {\r\n          this.getOrder()\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    backToProducts () {\r\n      this.$router.push('/products')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=c59aff22&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}