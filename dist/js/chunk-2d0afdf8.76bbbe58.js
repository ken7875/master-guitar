(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afdf8"],{"0fd0":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("div",{staticClass:"container py-3",staticStyle:{backgroundColor:"#FFFDD0"}},[e("div",{staticClass:"productList row align-items-center"},["課程"!==t.showProduct.category?e("div",{staticClass:"singleProductImg col-md-6 mb-6 mb-lg-0"},[e("img",{staticClass:"h-100",attrs:{src:t.imageUrl,alt:"product"}})]):t._e(),"課程"==t.showProduct.category?e("div",{staticClass:"singleProductImg col-md-6 mb-6 mb-lg-0"},[e("img",{staticClass:"h-100",attrs:{src:t.courseImageUrl,alt:"product"}})]):t._e(),e("div",{staticClass:"col-md-6"},[e("h3",{staticClass:"productTitle font-weight-bold mb-lg-10 mb-8"},[t._v(" "+t._s(t.showProduct.title)+" ")]),e("p",{staticClass:"h4 font-weight-bold text-left mt-5 mb-5"},[t._v(" "+t._s(t.showProduct.description)+" ")]),e("p",{staticClass:"h5 mb-2 text-muted text-left"},[e("del",[t._v("原價: $"+t._s(t.showProduct.origin_price))])]),e("p",{staticClass:"h4 font-weight-bold text-left text-primary"},[t._v(" 特價: $"+t._s(t.showProduct.price)+" ")]),e("p",{staticClass:"h6 text-right text-primary mb-lg-10 mb-8"},[t._v("*樂器與音箱有一年售後維修保固")]),e("div",{staticClass:"input-group px-8 mb-lg-5 mb-4"},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"addBtn btn btn-outline-secondary px-3",attrs:{type:"button",id:"quality",disabled:1===t.quantity},on:{click:function(s){t.quantity=t.quantity-1}}},[e("i",{staticClass:"fas fa-minus"})])]),e("input",{staticClass:"form-control h-100 py-3 quality text-center",attrs:{type:"text","aria-label":"Recipient's username","aria-describedby":"quality"},domProps:{value:t.quantity}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"minusBtn btn bg-wood px-3",attrs:{type:"button",id:"quality"},on:{click:function(s){t.quantity=t.quantity+1}}},[e("i",{staticClass:"fas fa-plus"})])])]),e("div",{staticClass:"cart-btn px-8"},[e("button",{staticClass:"btn btn-wood btn-block",on:{click:function(s){return t.addToCart(t.showProduct.id,t.quantity)}}},[t._v("加入購物車")])])])])]),e("h2",{staticClass:"second_title mt-lg-12 mt-10"},[t._v("相關商品")]),e("Relative",{attrs:{showproduct:t.showProduct},on:{update:t.getSingleProduct}})],1)},a=[],o=(e("99af"),e("5530")),c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("swiper",{ref:"mySwiper",staticClass:"swiper row mt-lg-8 mt-6",attrs:{options:t.swiperOption}},[t._l(t.identical,(function(s){return e("swiper-slide",{key:s.id,staticClass:"swiper-slide col-lg-3"},[e("div",{staticClass:"card border-0"},[e("div",{staticClass:"product border-0 mb-4",on:{click:function(e){return t.getDetail(s.id)}}},[e("img",{staticClass:"card-img-top",attrs:{src:""+s.imageUrl[0],alt:"top-choice 1"}}),e("div",{staticClass:"card-body py-2 px-0"},[e("p",{staticClass:"font-lg text-left"},[t._v(t._s(s.title))]),e("p",{staticClass:"mb-0 font-md text-left"},[t._v("特價:"+t._s(t._f("thousands")(s.price)))]),e("p",{staticClass:"text-muted mt-1 text-left"},[e("del",[t._v("原價:"+t._s(t._f("thousands")(s.origin_price)))])])])])])])})),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},r=[],n=(e("4de4"),e("7212")),d=(e("bbe3"),e("2f62")),l={components:{Swiper:n["Swiper"],SwiperSlide:n["SwiperSlide"]},props:{showproduct:{type:Object}},data:function(){return{swiperOption:{direction:"horizontal",slidesPerView:1,spaceBetween:0,slidesPerGroup:2,speed:2e3,pagination:{el:".swiper-pagination",clickable:!0},loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1,disableOnInteraction:!1},freeMode:!0,breakpoints:{992:{slidesPerView:4},767:{slidesPerView:3},414:{slidesPerView:2}}}}},created:function(){this.getProducts()},methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])("productsModules",["getProducts"])),{},{getDetail:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}}),computed:Object(o["a"])({identical:function(){var t=this;return this.getProductsDone.filter((function(s){return s.id!==t.showproduct.id&&s.category===t.showproduct.category}))}},Object(d["c"])("productsModules",["getProductsDone"]))},u=l,p=e("2877"),g=Object(p["a"])(u,c,r,!1,null,null,null),h=g.exports,b={components:{Relative:h},data:function(){return{showProduct:{imageUrl:[],courseImageUrl:[],num:1},products:[],imageUrl:"",carts:[],quantity:1,isLoading:!1}},created:function(){this.getProducts(),this.getSingleProduct(),this.getCart()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(d["b"])(["getCart"])),Object(d["b"])("productsModules",["getProducts"])),{},{getSingleProduct:function(){var t=this;this.$store.state.isLoading=!0;var s=this.$route.params.id;this.showProduct={};var e="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/product/").concat(s);this.$http.get(e).then((function(s){t.$store.state.isLoading=!1,t.showProduct=s.data.data,t.imageUrl=t.showProduct.imageUrl[0],t.courseImageUrl=t.showProduct.imageUrl[2]}))},addToCart:function(t){var s=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.$store.state.isLoading=!0,this.axios.post(i,{product:this.showProduct.id,quantity:e}).then((function(t){s.$store.state.isLoading=!1,s.getCart(),s.$bus.$emit("get-cart"),s.$bus.$emit("message-push","商品成功加入購物車!","success"),s.$store.dispatch("getCart")})).catch((function(t){s.$bus.$emit("message-push","加入失敗!".concat(t.response.data.errors),"danger")}))}}),computed:Object(o["a"])(Object(o["a"])({},Object(d["c"])("productsModules",["getProductsDone"])),Object(d["c"])(["getCartsDone"]))},m=b,f=Object(p["a"])(m,i,a,!1,null,null,null);s["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0afdf8.76bbbe58.js.map