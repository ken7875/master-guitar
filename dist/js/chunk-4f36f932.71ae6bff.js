(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f36f932"],{1799:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("nav",{staticClass:"d-flex justify-content-center"},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link  {disable: page.current_page === 1}",attrs:{href:"#","aria-label":"Previous"},on:{click:function(s){return s.preventDefault(),t.updatePage(t.page.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(s){return a("li",{key:s,staticClass:"page-item active"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updatePage(s)}}},[t._v(t._s(s))])])})),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(s){return s.preventDefault(),t.updatePage(t.page.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},e=[],o={props:["pages"],data:function(){return{pagination:{}}},methods:{updatePage:function(t){this.$emit("update",t)}}},c=o,n=a("5d22"),r=Object(n["a"])(c,i,e,!1,null,null,null);s["a"]=r.exports},"1d7a":function(t,s,a){var i=a("aba0"),e=a("22af").f,o=Function.prototype,c=o.toString,n=/^\s*function ([^ (]*)/,r="name";i&&!(r in o)&&e(o,r,{configurable:!0,get:function(){try{return c.call(this).match(n)[1]}catch(t){return""}}})},"81b1":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("ul",{staticClass:"mobile_categoryList row no-gutters list-unstyled d-md-none mb-0"},[a("li",{staticClass:"col-6 bg-wood py-1  border",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-white",attrs:{to:"/products/all-Products"}},[t._v("所有產品")])],1),a("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-white",attrs:{to:"/products/電吉他|貝斯"}},[t._v("電吉他/貝斯")])],1),a("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-white",attrs:{to:"/products/木吉他|烏克麗麗"}},[t._v("木吉他/烏克麗麗")])],1),a("li",{staticClass:"col-6 bg-wood py-1 border",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-white",attrs:{to:"/products/周邊商品"}},[t._v("周邊商品")])],1)]),a("div",{staticClass:"container font-md"},[a("h2",{staticClass:"title mt-12 mb-6 pb-lg-6 pb-md-4"},[t._v("產品列表")]),a("ul",{staticClass:"category list-unstyled d-md-flex d-none justify-content-center"},[a("li",{staticClass:"px-6 font-xl",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-wood",attrs:{to:"/products/all-Products"}},[t._v(" 所有產品 ")])],1),a("li",{staticClass:"px-6 font-xl",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-wood",attrs:{to:"/products/電吉他|貝斯"}},[t._v(" 電吉他/貝斯 ")])],1),a("li",{staticClass:"px-6 font-xl",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-wood",attrs:{to:"/products/木吉他|烏克麗麗"}},[t._v(" 木吉他/烏克麗麗 ")])],1),a("li",{staticClass:"px-6 font-xl",on:{click:t.getProducts}},[a("router-link",{staticClass:"text-wood",attrs:{to:"/products/周邊商品"}},[t._v(" 周邊商品 ")])],1)])]),a("div",{staticClass:"products container mt-md-5 mt-3 mb-7"},[a("div",{staticClass:"row"},t._l(t.showProducts,(function(s){return a("div",{key:s.id,staticClass:"col-lg-3 col-md-6"},[a("div",{staticClass:"card border-4 mb-4"},[a("div",{staticClass:"favor position-absolute",on:{click:function(a){return t.addToFavor(s.id)}}},[-1===t.myFavor.indexOf(s.id)?a("i",{staticClass:"fas fa-heart text-light"}):a("i",{staticClass:"fas fa-heart text-danger"})]),a("router-link",{attrs:{to:"/product/"+s.id}},[a("div",{staticClass:"productImg img rounded-0 position-relative",style:"background-image: url("+s.imageUrl[0]+");"},[a("p",{staticClass:"font-xl text-white bg-gray"},[t._v("查看商品")])])]),a("div",{staticClass:"card-body p-0 text-left"},[a("h5",{staticClass:"mb-2 mt-3"},[t._v(" "+t._s(s.title)+" ")]),a("p",[t._v(t._s(s.category))]),a("p",{staticClass:"card-text mb-2"},[t._v(" 特價:"+t._s(t._f("thousands")(s.price))+" "),a("del",{staticClass:"font-sm ml-2"},[t._v("原價:"+t._s(t._f("thousands")(s.origin_price)))])])]),a("div",{staticClass:"card-footer d-flex justify-content-between"},[a("router-link",{staticClass:"btn btn-outline-secondary btn-sm py-2",attrs:{to:"/product/"+s.id}},[t._v(" 詳細資訊 ")]),a("button",{staticClass:"btn btn-outline-primary btn-sm\n            py-2 d-flex align-items-center",attrs:{disabled:t.status.loadingItem===s.id},on:{click:function(a){return a.preventDefault(),t.addToCart(s.id)}}},[t._v(" 加入購物車 "),t.status.loadingItem===s.id?a("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block",staticStyle:{width:"12px",height:"12px"}}):t._e()])],1)],1)])})),0)]),a("pagination",{attrs:{pages:t.pagination},on:{update:t.getProducts}}),t._m(0)],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"footer py-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex align-items-center justify-content-between text-white mb-md-7 mb-4"},[a("ul",{staticClass:"d-flex list-unstyled mb-0 h4"},[a("li",[a("a",{staticClass:"text-white mx-3",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-facebook"})])]),a("li",[a("a",{staticClass:"text-white mx-3",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-instagram"})])]),a("li",[a("a",{staticClass:"text-white ml-3",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-line"})])])])]),a("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between align-items-md-end align-items-start text-white"},[a("div",{staticClass:"mb-md-0 mb-1"},[a("p",{staticClass:"mb-0"},[t._v("02-3456-7890")]),a("p",{staticClass:"mb-0"},[t._v("service@mail.com")])]),a("p",{staticClass:"mb-0"},[t._v("© 2020 LOGO All Rights Reserved.")])])])])}],o=(a("445a"),a("72b3"),a("a543"),a("989e"),a("1d7a"),a("270f"),a("1799")),c={components:{pagination:o["a"]},data:function(){return{products:[],showProducts:[],category:"",pagination:{},isLoading:!1,status:{loadingItem:""},myFavor:JSON.parse(localStorage.getItem("favorItem"))||[]}},created:function(){this.getProducts(),this.router=this.$router.history.current.name},methods:{getProducts:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?pages=").concat(s);this.axios.get(a).then((function(s){t.showProducts=[];var a=t.$route.params.category;t.products=s.data.data,t.pagination=s.data.meta.pagination,t.products.forEach((function(s){a===s.category?(t.showProducts.push(s),t.category=a):"all-Products"===a&&(t.showProducts=t.products,t.category="all-Products"),t.category=a}))})),this.isLoading=!1},addToCart:function(t){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.status.loadingItem=t,this.isLoading=!0,this.axios.post(i,{product:t,quantity:a}).then((function(t){s.status.loadingItem="",s.isLoading=!1,s.$bus.$emit("get-cart"),s.$bus.$emit("message:push","商品成功加入購物車!","success")})).catch((function(t){s.status.loadingItem="",s.isLoading=!1,s.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger")}))},addToFavor:function(t,s){var a=this.myFavor.indexOf(t);-1===a?(this.myFavor.push(t),this.$bus.$emit("message:push","商品成功加入收藏!","success")):(this.myFavor.splice(a,1),this.$bus.$emit("message:push","取消收藏","danger"),this.$bus.$emit("get-cart")),localStorage.setItem("favorItem",JSON.stringify(this.myFavor))}}},n=c,r=a("5d22"),l=Object(r["a"])(n,i,e,!1,null,null,null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4f36f932.71ae6bff.js.map