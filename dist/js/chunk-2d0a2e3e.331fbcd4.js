(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a2e3e"],{"009a":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"carts container"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("h2",{staticClass:"mt-5 mb-5 section_title"},[t._v("購物車")]),i("div",{staticClass:"row"},t._l(t.carts,(function(a){return i("div",{key:a.product.id+"carts",staticClass:"col-12"},[i("div",{staticClass:"card justify-content-md-start mb-lg-8 mb-6"},[i("div",{staticClass:"row align-items-center no-gutters"},[i("div",{staticClass:"img col-lg-2 col-md-3"},[i("img",{attrs:{src:""+a.product.imageUrl[0]}})]),i("div",{staticClass:"font-md col-md-3 col-8"},[i("p",{staticClass:"title text-md-center text-left"},[t._v(t._s(a.product.title))])]),i("div",{staticClass:"input-group mb-3 col-md-3 col-7"},[i("div",{staticClass:"input-group-prepend"},[i("button",{staticClass:"btn btn-outline-secondary px-lg-3 px-2",attrs:{type:"button",id:"quantity"},on:{click:function(i){a.quantity--,t.updateQty(a.product.id,a.quantity)}}},[i("i",{staticClass:"fas fa-minus font-sm"})])]),i("input",{staticClass:"form-control h-100 py-3 text-center",attrs:{type:"number","aria-label":"quantity","aria-describedby":"quantity",id:"quantity"},domProps:{value:a.quantity},on:{keyup:function(i){return t.updateQty(a.product.id,a.quantity)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-wood px-lg-3 px-2",attrs:{type:"button",id:"quantity"},on:{click:function(i){a.quantity++,t.updateQty(a.product.id,a.quantity)}}},[i("i",{staticClass:"fas fa-plus font-sm"})])])]),i("div",{staticClass:"price col-md-2 col-5"},[i("p",[t._v("$ "+t._s(a.product.price*a.quantity))])]),i("div",{staticClass:"delPic col-md-1 font-lg pb-3"},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.delData(a.product.id)}}},[i("i",{staticClass:"fas fa-trash-alt text-danger"})])])])])])})),0),i("div",{staticClass:" total flex-wrap row no-gutters"},[i("p",{staticClass:"text-right font-xl col-lg-12"},[t._v("總計$: "+t._s(t.total))]),i("button",{staticClass:"btn btn-primary col-md-3 offset-md-9 py-2 font-md",on:{click:t.goPay}},[t._v("前往結帳")])])],1)},c=[],n=(i("445a"),i("72b3"),i("270f"),{data:function(){return{product:[],carts:[],total:0,isLoading:!1}},created:function(){this.getCart()},methods:{getProducts:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?paged=99");this.$http.get(a).then((function(a){t.isLoading=!1,t.products=a.data.data}))},getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.$http.get(a).then((function(a){t.isLoading=!1,t.carts=a.data.data,t.getTotalPrice()}))},getTotalPrice:function(){var t=this;this.total=0,this.carts.forEach((function(a){t.total+=a.product.price*a.quantity}))},updateQty:function(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.axios.patch(s,{product:t,quantity:i}).then((function(){a.getCart()}))},delData:function(t){var a=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping/").concat(t);this.axios.delete(i).then((function(){a.isLoading=!1,a.$bus.$emit("get-cart"),a.getCart()}))},goPay:function(){this.$router.push("/pay")}}}),o=n,e=i("5d22"),r=Object(e["a"])(o,s,c,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0a2e3e.331fbcd4.js.map