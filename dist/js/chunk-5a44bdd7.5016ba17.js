(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a44bdd7"],{"120e":function(t,s,a){},"6fa3":function(t,s,a){"use strict";a("120e")},8619:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"wrap"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._m(0),a("div",{staticClass:"container mt-md-5 mt-3 mb-7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},t._l(t.favorProduts,(function(s){return a("div",{key:s.id,staticClass:"productList col-md-4",attrs:{disabled:-1===t.myFavor.indexOf(s.id)}},[a("div",{staticClass:"card border-4 mb-4"},[a("div",{staticClass:"card-img rounded-0 position-relative",style:"background-image: url("+s.imageUrl[0]+");"},[a("div",{staticClass:"favor",on:{click:function(a){return t.delFavor(s.id)}}},[t.myFavor.indexOf(s.id)>-1?a("i",{staticClass:"fas fa-heart text-danger"}):t._e()])]),a("div",{staticClass:"card-body p-0"},[a("h4",{staticClass:"mb-0 mt-3"},[a("a",{attrs:{href:"./detail.html"}},[t._v(t._s(s.title))])]),a("div",{staticClass:"price"},[a("p",{staticClass:"card-text mb-0",staticStyle:{"font-size":"20px"}},[t._v("特價:"+t._s(s.price))])]),a("div",{staticClass:"text-muted mb-4"},[a("del",[t._v("原價:"+t._s(s.origin_price))])])]),a("div",{staticClass:"card-footer d-flex"},[a("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:"/product/"+s.id}},[t._v(" 詳細資訊 ")]),a("button",{staticClass:"btn btn-outline-primary btn-sm ml-auto\n                d-flex align-items-center",attrs:{disabled:t.status.loadingItem===s.id},on:{click:function(a){return a.preventDefault(),t.addToCart(s.id)}}},[t._v(" 加入購物車 "),t.status.loadingItem===s.id?a("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block",staticStyle:{width:"12px",height:"12px"}}):t._e()])],1)])])})),0)])])]),t._m(1)],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticStyle:{"margin-top":"50px"}},[a("h2",[t._v("我的最愛")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"footer py-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex align-items-center justify-content-between text-white mb-md-7 mb-4"},[a("a",{staticClass:"title",attrs:{href:"./index.html"}},[t._v("Master Gutair")]),a("ul",{staticClass:"d-flex list-unstyled mb-0 h4"},[a("li",[a("a",{staticClass:"text-white mx-3",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-facebook"})])]),a("li",[a("a",{staticClass:"text-white mx-3",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-instagram"})])]),a("li",[a("a",{staticClass:"text-white ml-3",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-line"})])])])]),a("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between align-items-md-end align-items-start text-white"},[a("div",{staticClass:"mb-md-0 mb-1"},[a("p",{staticClass:"mb-0"},[t._v("02-3456-7890")]),a("p",{staticClass:"mb-0"},[t._v("service@mail.com")])]),a("p",{staticClass:"mb-0"},[t._v("© 2020 LOGO All Rights Reserved.")])])])])}],n=(a("445a"),a("cb3c"),a("a543"),a("989e"),{data:function(){return{myFavor:JSON.parse(localStorage.getItem("favorItem"))||[],favorProduts:[],products:[],isLoading:!1,status:{loadingItem:""}}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.isloading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/products?paged=99");this.$http.get(s).then((function(s){t.products=s.data.data,t.getFavor()})),this.isloading=!1},getFavor:function(){var t=this;this.favorProduts=this.products.filter((function(s){return t.myFavor.indexOf(s.id)>-1})),this.isloading=!1},delFavor:function(t){var s=this.myFavor.indexOf(t);-1!==s&&(this.myFavor.splice(s,1),console.log(this.myFavor),this.isloading=!1,this.getFavor()),localStorage.setItem("favorItem",JSON.stringify(this.myFavor))},addToCart:function(t){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t;var i="".concat("https://course-ec-api.hexschool.io/api/").concat("07efa40d-8941-4249-aabc-164add9a7575","/ec/shopping");this.isLoading=!0,this.axios.post(i,{product:t,quantity:a}).then((function(t){s.status.loadingItem="",s.$bus.$emit("get-cart"),s.$bus.$emit("message-push","商品成功加入購物車!","success"),s.isLoading=!1})).catch((function(t){s.status.loadingItem="",s.$bus.$emit("message-push","加入失敗!".concat(t.response.data.errors),"danger")})),this.isLoading=!1}}}),o=n,c=(a("6fa3"),a("5d22")),r=Object(c["a"])(o,i,e,!1,null,"f3b4d2de",null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-5a44bdd7.5016ba17.js.map